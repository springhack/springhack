



<p>/**************************************<br />&nbsp; Webee Zigbee CC2530 LCD显示屏驱动<br /><span style="white-space:pre">	</span>InitLCD(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;初始化LCD<br /><span style="white-space:pre">	</span>ClearRAM(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 清屏<br /><span style="white-space:pre">	</span>Print8(uint8 x, uint8 y, uchar *pstr); &nbsp;按行列输出<br />&nbsp; 仅支持英文及半角字符<br />**************************************/<br /><br /><br />#include &lt;ioCC2530.h&gt;<br />#include &lt;string.h&gt;<br /><br /><br />#ifndef HAL_LCD_H<br />#define HAL_LCD_H<br /><br /><br />#ifndef HAL_Type_H<br />#define HAL_Type_H<br /><br /><br />&nbsp; &nbsp; #define ushort unsigned short<br />&nbsp; &nbsp; #define USHORT &nbsp;ushort<br /><br /><br />&nbsp; &nbsp; #define uchar unsigned char<br />&nbsp; &nbsp; #define uint8 uchar<br />&nbsp; &nbsp; #define INT8U uint8<br />&nbsp; &nbsp; #define u8 &nbsp;uchar<br /><br /><br />&nbsp; &nbsp; #define uint16 unsigned int<br />&nbsp; &nbsp; #define INT16U uint16<br />&nbsp; &nbsp; #define u16 uint16<br /><br /><br />&nbsp; &nbsp; #define uint32 unsigned long<br />&nbsp; &nbsp; #define INT32U uint32<br />&nbsp; &nbsp; #define u32 uint32<br /><br /><br /><br /><br />#endif<br /><br /><br />//串行发送IO口定义<br />#define L_CS P1_2<span style="white-space:pre">	</span>//_CS<br />//#define L_RS P1_0<span style="white-space:pre">	</span>//_RES &nbsp;hardware reset<br />#define L_LD P0_0 &nbsp; &nbsp; &nbsp; //A0=H data A0=L commend&nbsp;<br />#define L_CK P1_5<span style="white-space:pre">	</span>//SCLK<br />#define L_DA P1_6<span style="white-space:pre">	</span>//SI<br />#define L_BK P0_7<span style="white-space:pre">	</span>//backlight<br /><br /><br />void ResetLCD(void);<br />void ClearRAM(void);<br />void Print8(uint8 x, uint8 y, uchar *pstr);<br />void delay_us(uint16 s);<br /><br /><br />//------------- &nbsp;ASCII字符库----------------------------------------------------------------<br />//说明：该字库为5*7点阵字符字模库，但字库格式为8*8点阵字模数据，第8行为行间距，<br />// &nbsp; &nbsp; &nbsp;第6-8列为字间距。可以使用6*8点阵、7*8点阵、8*8点阵形式的字符显示<br />__code const INT8U ASCIITAB[]={<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot; &quot;=00H*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x00,0x4F,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*0Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x50,0x30,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;;&quot;=0&quot;!&quot;=01H*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x07,0x00,0x07,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;&quot;&quot;=02h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x14,0x7F,0x14,0x7F,0x14,0x00,0x00, &nbsp; &nbsp;/*&quot;#&quot;=03h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x24,0x2A,0x7F,0x2A,0x12,0x00,0x00, &nbsp; &nbsp;/*&quot;$&quot;=04h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x23,0x13,0x08,0x64,0x62,0x00,0x00, &nbsp; &nbsp;/*&quot;%&quot;=05h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x36,0x49,0x55,0x22,0x50,0x00,0x00, &nbsp; &nbsp;/*&quot;&amp;&quot;=06h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x05,0x03,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;'&quot;=07h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x1C,0x22,0x41,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;(&quot;=08h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x22,0x1C,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;)&quot;=09h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x14,0x08,0x3E,0x08,0x14,0x00,0x00, &nbsp; &nbsp;/*&quot;*&quot;=0Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x08,0x08,0x3E,0x08,0x08,0x00,0x00, &nbsp; &nbsp;/*&quot;+&quot;=0Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x08,0x08,0x08,0x08,0x08,0x00,0x00, &nbsp; &nbsp;/*&quot;-&quot;=0Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;.&quot;=0Eh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x20,0x10,0x08,0x04,0x02,0x00,0x00, &nbsp; &nbsp;/*&quot;/&quot;=0Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3E,0x51,0x49,0x45,0x3E,0x00,0x00, &nbsp; &nbsp;/*&quot;0&quot;=10h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x42,0x7F,0x40,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;1&quot;=11h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x42,0x61,0x51,0x49,0x46,0x00,0x00, &nbsp; &nbsp;/*&quot;2&quot;=12h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x21,0x41,0x45,0x4B,0x31,0x00,0x00, &nbsp; &nbsp;/*&quot;3&quot;=13h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x18,0x14,0x12,0x7F,0x10,0x00,0x00, &nbsp; &nbsp;/*&quot;4&quot;=14h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x27,0x45,0x45,0x45,0x39,0x00,0x00, &nbsp; &nbsp;/*&quot;5&quot;=15h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3C,0x4A,0x49,0x49,0x30,0x00,0x00, &nbsp; &nbsp;/*&quot;6&quot;=16h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x01,0x01,0x79,0x05,0x03,0x00,0x00, &nbsp; &nbsp;/*&quot;7&quot;=17h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x36,0x49,0x49,0x49,0x36,0x00,0x00, &nbsp; &nbsp;/*&quot;8&quot;=18h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x06,0x49,0x49,0x29,0x1E,0x00,0x00, &nbsp; &nbsp;/*&quot;9&quot;=19h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x36,0x36,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;:&quot;=1Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x56,0x36,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;;&quot;=1Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x08,0x14,0x22,0x41,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;&lt;&quot;=1Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x14,0x14,0x14,0x14,0x14,0x00,0x00, &nbsp; &nbsp;/*&quot;=&quot;=1Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x22,0x14,0x08,0x00,0x00, &nbsp; &nbsp;/*&quot;&gt;&quot;=1Eh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x02,0x01,0x51,0x09,0x06,0x00,0x00, &nbsp; &nbsp;/*&quot;?&quot;=1Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x32,0x49,0x79,0x41,0x3E,0x00,0x00, &nbsp; &nbsp;/*&quot;@&quot;=20h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7E,0x11,0x11,0x11,0x7E,0x00,0x00, &nbsp; &nbsp;/*&quot;A&quot;=21h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x41,0x7F,0x49,0x49,0x36,0x00,0x00, &nbsp; &nbsp;/*&quot;B&quot;=22h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3E,0x41,0x41,0x41,0x22,0x00,0x00, &nbsp; &nbsp;/*&quot;C&quot;=23h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x41,0x7F,0x41,0x41,0x3E,0x00,0x00, &nbsp; &nbsp;/*&quot;D&quot;=24h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x49,0x49,0x49,0x49,0x00,0x00, &nbsp; &nbsp;/*&quot;E&quot;=25h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x09,0x09,0x09,0x01,0x00,0x00, &nbsp; &nbsp;/*&quot;F&quot;=26h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3E,0x41,0x41,0x49,0x7A,0x00,0x00, &nbsp; &nbsp;/*&quot;G&quot;=27h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x08,0x08,0x08,0x7F,0x00,0x00, &nbsp; &nbsp;/*&quot;h&quot;=28h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x7F,0x41,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;I&quot;=29h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x20,0x40,0x41,0x3F,0x01,0x00,0x00, &nbsp; &nbsp;/*&quot;J&quot;=2Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x08,0x14,0x22,0x41,0x00,0x00, &nbsp; &nbsp;/*&quot;K&quot;=2Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x40,0x40,0x40,0x40,0x00,0x00, &nbsp; &nbsp;/*&quot;L&quot;=2Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x02,0x0C,0x02,0x7F,0x00,0x00, &nbsp; &nbsp;/*&quot;M&quot;=2Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x06,0x08,0x30,0x7F,0x00,0x00, &nbsp; &nbsp;/*&quot;N&quot;=2Eh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3E,0x41,0x41,0x41,0x3E,0x00,0x00, &nbsp; &nbsp;/*&quot;O&quot;=2Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x09,0x09,0x09,0x06,0x00,0x00, &nbsp; &nbsp;/*&quot;P&quot;=30h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3E,0x41,0x51,0x21,0x5E,0x00,0x00, &nbsp; &nbsp;/*&quot;Q&quot;=31h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x09,0x19,0x29,0x46,0x00,0x00, &nbsp; &nbsp;/*&quot;R&quot;=32h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x26,0x49,0x49,0x49,0x32,0x00,0x00, &nbsp; &nbsp;/*&quot;S&quot;=33h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x01,0x01,0x7F,0x01,0x01,0x00,0x00, &nbsp; &nbsp;/*&quot;T&quot;=34h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3F,0x40,0x40,0x40,0x3F,0x00,0x00, &nbsp; &nbsp;/*&quot;U&quot;=35h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x1F,0x20,0x40,0x20,0x1F,0x00,0x00, &nbsp; &nbsp;/*&quot;V&quot;=36h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x20,0x18,0x20,0x7F,0x00,0x00, &nbsp; &nbsp;/*&quot;W&quot;=37h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x63,0x14,0x08,0x14,0x63,0x00,0x00, &nbsp; &nbsp;/*&quot;X&quot;=38h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x07,0x08,0x70,0x08,0x07,0x00,0x00, &nbsp; &nbsp;/*&quot;Y&quot;=39h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x61,0x51,0x49,0x45,0x43,0x00,0x00, &nbsp; &nbsp;/*&quot;Z&quot;=3Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x7F,0x41,0x41,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;[&quot;=3Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x02,0x04,0x08,0x10,0x20,0x00,0x00, &nbsp; &nbsp;/*&quot;\&quot;=3Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x41,0x7F,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;]&quot;=3Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x04,0x02,0x01,0x02,0x04,0x00,0x00, &nbsp; &nbsp;/*&quot;^&quot;=3Eh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x40,0x40,0x40,0x40,0x40,0x00,0x00, &nbsp; &nbsp;/*&quot;_&quot;=3Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x01,0x02,0x04,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;`&quot;=40h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x20,0x54,0x54,0x54,0x78,0x00,0x00, &nbsp; &nbsp;/*&quot;a&quot;=41h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x48,0x44,0x44,0x38,0x00,0x00, &nbsp; &nbsp;/*&quot;b&quot;=42h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x38,0x44,0x44,0x44,0x28,0x00,0x00, &nbsp; &nbsp;/*&quot;c&quot;=43h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x38,0x44,0x44,0x48,0x7F,0x00,0x00, &nbsp; &nbsp;/*&quot;d&quot;=44h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x38,0x54,0x54,0x54,0x18,0x00,0x00, &nbsp; &nbsp;/*&quot;e&quot;=45h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x08,0x7E,0x09,0x02,0x00,0x00, &nbsp; &nbsp;/*&quot;f&quot;=46h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x0C,0x52,0x52,0x4C,0x3E,0x00,0x00, &nbsp; &nbsp;/*&quot;g&quot;=47h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7F,0x08,0x04,0x04,0x78,0x00,0x00, &nbsp; &nbsp;/*&quot;h&quot;=48h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x44,0x7D,0x40,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;i&quot;=49h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x20,0x40,0x44,0x3D,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;j&quot;=4Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x7F,0x10,0x28,0x44,0x00,0x00, &nbsp; &nbsp;/*&quot;k&quot;=4Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x7F,0x40,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;l&quot;=4Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7C,0x04,0x78,0x04,0x78,0x00,0x00, &nbsp; &nbsp;/*&quot;m&quot;=4Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7C,0x08,0x04,0x04,0x78,0x00,0x00, &nbsp; &nbsp;/*&quot;n&quot;=4Eh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x38,0x44,0x44,0x44,0x38,0x00,0x00, &nbsp; &nbsp;/*&quot;o'=4Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7E,0x0C,0x12,0x12,0x0C,0x00,0x00, &nbsp; &nbsp;/*&quot;p&quot;=50h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x0C,0x12,0x12,0x0C,0x7E,0x00,0x00, &nbsp; &nbsp;/*&quot;q&quot;=51h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x7C,0x08,0x04,0x04,0x08,0x00,0x00, &nbsp; &nbsp;/*&quot;r&quot;=52h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x58,0x54,0x54,0x54,0x64,0x00,0x00, &nbsp; &nbsp;/*&quot;s&quot;=53h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x04,0x3F,0x44,0x40,0x20,0x00,0x00, &nbsp; &nbsp;/*&quot;t&quot;=54h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3C,0x40,0x40,0x3C,0x40,0x00,0x00, &nbsp; &nbsp;/*&quot;u&quot;=55h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x1C,0x20,0x40,0x20,0x1C,0x00,0x00, &nbsp; &nbsp;/*&quot;v&quot;=56h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x3C,0x40,0x30,0x40,0x3C,0x00,0x00, &nbsp; &nbsp;/*&quot;w&quot;=57h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x44,0x28,0x10,0x28,0x44,0x00,0x00, &nbsp; &nbsp;/*&quot;x&quot;=58h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x1C,0xA0,0xA0,0x90,0x7C,0x00,0x00, &nbsp; &nbsp;/*&quot;y&quot;=59h*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x44,0x64,0x54,0x4C,0x44,0x00,0x00, &nbsp; &nbsp;/*&quot;z&quot;=5Ah*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x08,0x36,0x41,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;{&quot;=5Bh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x00,0x77,0x00,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;|&quot;=5Ch*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x00,0x41,0x36,0x08,0x00,0x00,0x00, &nbsp; &nbsp;/*&quot;}&quot;=5Dh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0x02,0x01,0x02,0x04,0x02,0x00,0x00, &nbsp; &nbsp;/*&quot;~&quot;=5Fh*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00 &nbsp; &nbsp; /*&quot; &quot;=0x60*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br />void SendCmd(uchar Command)<br />{<br /><span style="white-space:pre">	</span>uchar j, bit7;<br /><br /><br /><span style="white-space:pre">	</span>L_CK = 1;<br /><span style="white-space:pre">	</span>L_LD = 0;<br /><span style="white-space:pre">	</span>L_CS = 0;<br /><span style="white-space:pre">	</span>for (j = 0; j &lt; 8; j++)<br /><span style="white-space:pre">	</span>{<br /><span style="white-space:pre">		</span>bit7 = Command &amp; 0x80;<br /><span style="white-space:pre">		</span>if (bit7 == 0)<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>L_DA = 0;<br /><span style="white-space:pre">		</span>}<br /><span style="white-space:pre">		</span>else<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>L_DA = 1;<br /><span style="white-space:pre">		</span>}<br /><br /><br /><span style="white-space:pre">		</span>L_CK = 0;<br /><span style="white-space:pre">		</span>L_CK = 1;<br /><span style="white-space:pre">		</span>Command = Command &lt;&lt; 1;<br /><span style="white-space:pre">	</span>}<br /><span style="white-space:pre">	</span><br /><span style="white-space:pre">	</span>L_CS = 1;<br />}<br /><br /><br />void SendData(uchar DDate)<br />{<br /><span style="white-space:pre">	</span>uchar j, bit7;<br /><br /><br /><span style="white-space:pre">	</span>L_CK = 1;<br /><span style="white-space:pre">	</span>L_LD = 1;<br /><span style="white-space:pre">	</span>L_CS = 0;<br /><span style="white-space:pre">	</span><br /><span style="white-space:pre">	</span>for (j = 0; j &lt; 8; j++)<br /><span style="white-space:pre">	</span>{<br /><span style="white-space:pre">		</span>bit7 = DDate &amp; 0x80;<br /><span style="white-space:pre">		</span>if (bit7 == 0)<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>L_DA = 0;<br /><span style="white-space:pre">		</span>}<br /><span style="white-space:pre">		</span>else<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>L_DA = 1;<br /><span style="white-space:pre">		</span>}<br /><br /><br /><span style="white-space:pre">		</span>L_CK = 0;<br /><span style="white-space:pre">		</span>L_CK = 1;<br /><span style="white-space:pre">		</span>DDate = DDate &lt;&lt; 1;<br /><span style="white-space:pre">	</span>}<br /><span style="white-space:pre">	</span><br /><span style="white-space:pre">	</span>L_CS = 1;<br />}<br /><br /><br /><br /><br />/******网蜂WeBee LCD初始化配置参数******/<br />void initLCDM(void)<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; uchar ContrastLevel; &nbsp; &nbsp;//定义对比度<br /><span style="white-space:pre">	</span>ContrastLevel = 0xa0; &nbsp; //对比度，根据不同的LCD调节，否则无法显示。<br /><span style="white-space:pre">	</span>SendCmd(0xaf); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//开显示<br /><span style="white-space:pre">	</span>SendCmd(0x40); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//显示起始行为0<br /><span style="white-space:pre">	</span>SendCmd(0xa0); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//RAM列地址与列驱动同顺序<br /><span style="white-space:pre">	</span>SendCmd(0xa6); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//正向显示<br /><span style="white-space:pre">	</span>SendCmd(0xa4); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//显示全亮功能关闭<br /><span style="white-space:pre">	</span>SendCmd(0xa2); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//LCD偏压比1/9<br /><span style="white-space:pre">	</span>SendCmd(0xc8); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//行驱动方向为反向<br /><span style="white-space:pre">	</span>SendCmd(0x2f); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//启用内部LCD驱动电源<br /><span style="white-space:pre">	</span>SendCmd(0xf8); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//升压电路设置指令代码<br /><span style="white-space:pre">	</span>SendCmd(0x00); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//倍压设置为4X<br /><span style="white-space:pre">	</span>SendCmd(ContrastLevel); //设置对比度<br />}<br /><br /><br />void delay_us(uint16 s)<br />{<br /><span style="white-space:pre">	</span>uint16 i;<br /><span style="white-space:pre">	</span>for(i=0; i&lt;s; i++);<br /><span style="white-space:pre">	</span>for(i=0; i&lt;s; i++);<br />}<br /><br /><br />void delay_ms(uint16 s)<br />{<br /><span style="white-space:pre">	</span>uint16 i;<br /><span style="white-space:pre">	</span>for(i=0; i&lt;s; i++);<br /><span style="white-space:pre">		</span>delay_us(1000);<br />}<br /><br /><br />void ResetLCD(void)<br />{<br /><span style="white-space:pre">	</span>P1DIR |= 0xFF;<br /><span style="white-space:pre">	</span>L_BK = 1;<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br /><span style="white-space:pre">	</span>//L_RS = 1; &nbsp;//RST和复位键连接<br /><span style="white-space:pre">	</span>//L_RS = 0;<br /><span style="white-space:pre">	</span>//delay_ms(10);<br /><span style="white-space:pre">	</span>//L_RS = 1;<br /><span style="white-space:pre">	</span>delay_ms(500);<br /><span style="white-space:pre">	</span><br />}<br /><br /><br />void ClearRAM(void)<br />{<br /><span style="white-space:pre">	</span>uint8 i,j;<br /><span style="white-space:pre">	</span>for (i = 0; i &lt; 8; i++)<br /><span style="white-space:pre">	</span>{<br /><span style="white-space:pre">		</span>SendCmd(i|0xb0);<br /><span style="white-space:pre">		</span>SendCmd(0x10);<br /><span style="white-space:pre">		</span>SendCmd(0x00);<br /><span style="white-space:pre">		</span>for (j = 0; j &lt; 132; j++)<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>SendData(0);<br /><span style="white-space:pre">		</span>}<br /><span style="white-space:pre">	</span>}<br />}<br /><br /><br />void Print8(uint8 x, uint8 y, uchar *pstr)<br />{<br /><span style="white-space:pre">	</span>uchar j;<br /><span style="white-space:pre">	</span>uint16 addr;<br /><span style="white-space:pre">	</span>SendCmd(y|0xb0);<br /><span style="white-space:pre">	</span>SendCmd((x &gt;&gt; 4)|0x10); //x是用10和00 的低4位<br /><span style="white-space:pre">	</span>SendCmd(x&amp;0x0f);<br /><span style="white-space:pre">	</span><br /><span style="white-space:pre">	</span>while (*pstr &gt; 0)<br /><span style="white-space:pre">	</span>{<br /><span style="white-space:pre">		</span>addr = *pstr++;<br /><span style="white-space:pre">		</span>addr = (addr - 0x20)*8;//ASCII字符库从第32个开始<br /><span style="white-space:pre">		</span>for (j = 0; j &lt; 6; j++)<br /><span style="white-space:pre">		</span>{<br /><span style="white-space:pre">			</span>SendData(ASCIITAB[addr+j]);<br /><span style="white-space:pre">		</span>}<br /><span style="white-space:pre">	</span>}<br />}<br /><br /><br />#endif<br /><br /><br /><br /><br />#define uint unsigned int<br />#define uchar unsigned char<br /><br /><br />void InitLCD()<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; P0DIR = 0XFF;&nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; P1DIR = 0XFF;&nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; ResetLCD(); //复位LCD&nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; initLCDM(); //初始化LCD<br />&nbsp; &nbsp; &nbsp; &nbsp; ClearRAM(); //请液晶缓存<br />}<br /></p><p><br /></p><p><img src="http://img15.poco.cn/mypoco/myphoto/20131217/16/174529028201312171615323321935125158_000.jpg" alt="" /></p>