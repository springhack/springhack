{% if page.comments != false %}
  {% case site.comments_provider %}
    {% when 'gitalk' %}
      <div id="gitalk-container"></div>
      <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
      <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
      <script>
        var gitalk = new Gitalk({
          id: '{{ page.url | truncate: 50, '' }}',
          clientID: '{{ site.gitalk.clientID }}',
          clientSecret: '{{ site.gitalk.clientSecret }}',
          repo: '{{ site.gitalk.repo }}',
          owner: '{{ site.gitalk.owner }}',
          admin: ['{{ site.gitalk.owner }}'],
          labels: ['gitment'],
          perPage: 50,
          proxy: '{{ site.gitalk.proxy }}'
        })
        gitalk.render('gitalk-container')
      </script>
      <style>
        .gt-header-comment, .gt-comment-content {
          filter: invert(90%);
        }
        .gt-container .gt-avatar-github:hover {
          background-color: transparent;
        }
        .gt-container .gt-ico-github svg {
          fill: #6190e8;
        }
        .gt-container .gt-meta {
          border-bottom: dashed 1px rgba(219,219,219,0.9);
        }
        #gitalk-container p {
          color: initial;
        }
      </style>
  {% endcase %}
{% endif %}
